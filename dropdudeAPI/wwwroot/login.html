<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="utf-8">
    <title>Login</title>
    <style>
        body { background: #121212; color: #eee; font-family: sans-serif; padding: 2em; display: flex; justify-content: center; }
        .card { max-width: 320px; width: 100%; background: #1e1e1e; padding: 1.5em; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.5); }
        h3 { margin-bottom: 1em; text-align: center; font-size: 1.2em; }
        input, button { width: 100%; margin: 0.5em 0; padding: 0.5em; border: none; border-radius: 4px; font-size: 1em; }
        button { cursor: pointer; background: #3a3a3a; color: #fff; }
        button:hover { background: #4e4e4e; }
        #error { text-align: center; margin-top: 0.5em; font-size: 0.9em; color: #f55; }
    </style>
</head>
<body>
<div class="card">
    <h3>Авторизація</h3>
    <input id="username" placeholder="Username">
    <input id="password" type="password" placeholder="Password">
    <button id="loginBtn">Sign In</button>
    <div id="error"></div>
</div>
<script>
    document.getElementById('loginBtn').addEventListener('click', async () => {
        const user = document.getElementById('username').value;
        const pass = document.getElementById('password').value;
        const res = await fetch('/auth/login', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ username: user, password: pass })
        });
        if (!res.ok) {
            document.getElementById('error').textContent = 'Login failed';
            return;
        }
        const { token } = await res.json();
        localStorage.setItem('jwt', token);
        window.location.href = 'admin.html';
    });
</script>
</body>
</html>
